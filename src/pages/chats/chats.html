<!--
  Generated template for the ChatsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="header">
    <div style="display: flex;">
      
      <ion-icon name="arrow-back" style="font-size: 2.4rem;
      color: #fff;
      margin-left: 26px;
      margin-right: 18px;" (click)="goToServices()"></ion-icon>
      <ion-title>
        <strong style="font-size: 2rem;">Chats</strong>
      </ion-title>
    </div>
    <ion-buttons end>
      <button ion-button (click)="showConfirm('¿Desea borrar todos los chats?', 'all')" *ngIf="chats.length > 0">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content padding>

  <ion-list>
    <ion-item *ngFor="let chat of chats">
      <ion-avatar item-start  (click)="openChat(chat.name, chat.profile.image, chat.id)">
        <img src="https://test.traya.com.ar/{{ chat.user.profile.image }}" *ngIf="chat.user.profile.image.indexOf('traya.com.ar') < 0">
        <img src="{{ chat.user.profile.image }}" *ngIf="chat.user.profile.image.indexOf('traya.com.ar') >= 0">
      </ion-avatar>
      <div style="display: flex; align-items: center;">
        <h2 style="width: 90%"  (click)="openChat(chat.user.name, chat.user.profile.image, chat.user.id)">{{ chat.user.name }}</h2> 
        <ion-icon name="close" style="margin-top: -5px;" (click)="showConfirm('¿Desea borrar el chat con '+chat.user.name+'?', 'one', chat.user.id)"></ion-icon>
      </div>
    </ion-item>
    <!--<ion-item >
      <h4 text-center>No tienes chats activos </h4>
    </ion-item>-->
  </ion-list>

  <ion-list *ngIf="loading == false && chats.length == 0" padding>
    <h4 text-center padding>No tienes chats activos</h4>
  </ion-list>

</ion-content>
